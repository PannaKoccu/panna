[Unit]
Description=Flask Application
After=network.target

[Service]
User=devops
WorkingDirectory={{ app_dir }}
Environment="PATH={{ venv_dir }}/bin"
ExecStart={{ venv_dir }}/bin/python {{ app_dir }}/main.py
Restart=on-failure
RestartSec=5s
StandardOutput=append:{{ app_log_file }}
StandardError=append:{{ app_log_file }}

[Install]
WantedBy=multi-user.target